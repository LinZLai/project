"use strict";(self["webpackChunksystem_vue"]=self["webpackChunksystem_vue"]||[]).push([[939],{7939:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finance"},[a("FinanceLeft"),a("FinanceRight")],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finance_left"},[a("img",{staticClass:"avatar",attrs:{src:this.user.avater}}),a("div",{staticStyle:{height:"180px"}},[a("h3",{staticStyle:{height:"50px","line-height":"200px","font-weight":"400"}},[t._v(" "+t._s(this.user.nickname)+" ")])]),a("div",[a("p",{staticStyle:{"font-size":"20px"}},[t._v("账户余额")]),a("p",{staticStyle:{margin:"20px 0",color:"#ffcd42","font-size":"18px"}},[t._v(" ￥ "+t._s(this.user.balance)+" ")]),a("el-button",{staticStyle:{"margin-top":"20px",width:"70%"},attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("点击充值")])],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入充值金额",label:"金额"},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.recharge}},[t._v("确定")]),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)},r=[],l={name:"FinanceLeft",data(){return{user:this.$store.getters.getUser,dialogVisible:!1,money:""}},created(){this.getUser()},mounted(){},methods:{handleClose(t){this.$confirm("确认关闭？").then((e=>{t()})).catch((t=>{}))},recharge(){""!=this.money?(this.money=parseFloat(this.money).toFixed(2),this.$axios.get("/buy",{params:{money:this.money,id:this.user.id}}).then((t=>{200==t.data.code?(window.location.href=t.data.data,this.$message.success("请至新窗口完成支付"),this.dialogVisible=!1):this.$message.error(t.data.msg)}))):this.$message.error("请输入充值金额")},getUser(){this.$axios.get("/getUserInfo",{params:{id:this.user.id}}).then((t=>{200==t.data.code&&(this.user=t.data.data)}))}}},o=l,c=a(1001),d=(0,c.Z)(o,n,r,!1,null,"3c6f5b26",null),h=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finance_right"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:!0}},[a("el-table-column",{attrs:{prop:"orderNumber",label:"流水号",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"orderTime",label:"时间",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"orderMoney",label:"金额",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"收支类型",width:"160",align:"center"}})],1)]],2)},u=[],g={name:"FinanceRight",data(){return{tableData:[]}},mounted(){},created(){this.getOrder()},methods:{getOrder(){this.$axios.get("/getOrder",{params:{id:this.$store.getters.getUser.id}}).then((t=>{for(var e=0;e<t.data.data.length;e++)t.data.data[e].orderTime=this.$moment(t.data.data[e].orderTime).format("YYYY-MM-DD HH:mm:ss");this.tableData=t.data.data}))}}},p=g,f=(0,c.Z)(p,m,u,!1,null,"7259230e",null),b=f.exports,y={name:"Financialcenter",data(){return{}},mounted(){},methods:{},components:{FinanceLeft:h,FinanceRight:b}},v=y,_=(0,c.Z)(v,i,s,!1,null,"52d90c15",null),x=_.exports}}]);
//# sourceMappingURL=939.27ba4f53.js.map