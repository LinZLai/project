"use strict";(self["webpackChunksystem_vue"]=self["webpackChunksystem_vue"]||[]).push([[939],{17939:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finance"},[a("FinanceLeft"),a("FinanceRight")],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finance_left"},[a("img",{staticClass:"avatar",attrs:{src:this.user.avater}}),a("div",{staticStyle:{height:"180px"}},[a("h3",{staticStyle:{height:"50px","line-height":"200px","font-weight":"400"}},[t._v(" "+t._s(this.user.nickname)+" ")])]),a("div",[a("p",{staticStyle:{"font-size":"20px"}},[t._v("账户余额")]),a("p",{staticStyle:{margin:"20px 0",color:"#ffcd42","font-size":"18px"}},[t._v(" ￥ "+t._s(this.user.balance)+" ")]),a("el-button",{staticStyle:{"margin-top":"20px",width:"70%"},attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("点击充值")])],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入充值金额",label:"金额"},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.recharge}},[t._v("确定")]),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)},r=[],o=(a(56977),{name:"FinanceLeft",data:function(){return{user:this.$store.getters.getUser,dialogVisible:!1,money:""}},created:function(){this.getUser()},mounted:function(){},methods:{handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},recharge:function(){var t=this;""!=this.money?(this.money=parseFloat(this.money).toFixed(2),this.$axios.get("/buy",{params:{money:this.money,id:this.user.id}}).then((function(e){200==e.data.code?(window.location.href=e.data.data,t.$message.success("请至新窗口完成支付"),t.dialogVisible=!1):t.$message.error(e.data.msg)}))):this.$message.error("请输入充值金额")},getUser:function(){var t=this;this.$axios.get("/getUserInfo",{params:{id:this.user.id}}).then((function(e){200==e.data.code&&(t.user=e.data.data)}))}}}),l=o,c=a(1001),d=(0,c.Z)(l,s,r,!1,null,"3c6f5b26",null),u=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finance_right"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:!0}},[a("el-table-column",{attrs:{prop:"orderNumber",label:"流水号",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"orderTime",label:"时间",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"orderMoney",label:"金额",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"收支类型",width:"160",align:"center"}})],1)]],2)},f=[],m={name:"FinanceRight",data:function(){return{tableData:[]}},mounted:function(){},created:function(){this.getOrder()},methods:{getOrder:function(){var t=this;this.$axios.get("/getOrder",{params:{id:this.$store.getters.getUser.id}}).then((function(e){for(var a=0;a<e.data.data.length;a++)e.data.data[a].orderTime=t.$moment(e.data.data[a].orderTime).format("YYYY-MM-DD HH:mm:ss");t.tableData=e.data.data}))}}},g=m,p=(0,c.Z)(g,h,f,!1,null,"7259230e",null),b=p.exports,v={name:"Financialcenter",data:function(){return{}},mounted:function(){},methods:{},components:{FinanceLeft:u,FinanceRight:b}},y=v,_=(0,c.Z)(y,i,n,!1,null,"52d90c15",null),x=_.exports}}]);
//# sourceMappingURL=939-legacy.c9ddbbcc.js.map