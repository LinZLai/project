"use strict";(self["webpackChunksystem_vue"]=self["webpackChunksystem_vue"]||[]).push([[277],{3308:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"person"},[s("PersonLeft"),s("PersonRight")],1)},a=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"person_left"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8081/upload",data:{id:this.user.id,username:this.user.username},"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.user.avater?s("img",{staticClass:"avatar",attrs:{src:e.user.avater}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),s("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"80px",model:this.user}},[s("el-form-item",{attrs:{label:"账号"}},[s("el-input",{attrs:{disabled:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("el-form-item",{attrs:{label:"昵称"}},[s("el-input",{attrs:{disabled:""},model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}})],1),s("el-form-item",{attrs:{label:"手机"}},[s("el-input",{attrs:{disabled:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("el-form-item",{attrs:{label:"邮箱"}},[s("el-input",{attrs:{disabled:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),s("el-form-item",{staticStyle:{margin:"50px 0"}},[s("el-button",{staticStyle:{"margin-left":"-40px",width:"80%"},attrs:{type:"primary"},on:{click:e.show}},[e._v("修改")])],1)],1),s("el-drawer",{attrs:{title:"个人信息",visible:e.drawer,"with-header":!1},on:{"update:visible":function(t){e.drawer=t},blur:function(e){this.drawer=!1}}},[s("ChangeInfo")],1)],1)},i=[],o=s(4235),n={name:"Personleft",data(){return{user:this.$store.getters.getUser,labelPosition:"right",drawer:!1}},mounted(){},methods:{beforeAvatarUpload(e){const t="image/jpeg"===e.type,s=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&s},show(){this.drawer=!0},handleAvatarSuccess(e,t){this.user.avater=URL.createObjectURL(t.raw)}},components:{ChangeInfo:o.Z}},u=n,m=s(1001),c=(0,m.Z)(u,l,i,!1,null,"c9581490",null),d=c.exports,p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"person_right"},[e._m(0),e._m(1),s("div",{staticStyle:{padding:"0 20px",width:"400px"}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[e._e(),e._e(),s("el-form-item",{attrs:{label:"真实姓名",prop:"name"}},[s("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"公司名称",prop:"corporateName"}},[s("el-input",{model:{value:e.form.corporateName,callback:function(t){e.$set(e.form,"corporateName",t)},expression:"form.corporateName"}})],1),s("el-form-item",{attrs:{label:"身份证号",prop:"IDNumber"}},[s("el-input",{model:{value:e.form.IDNumber,callback:function(t){e.$set(e.form,"IDNumber",t)},expression:"form.IDNumber"}})],1),s("el-form-item",{attrs:{label:"营业执照",prop:"license"}},[s("el-upload",{ref:"MyUpload",attrs:{action:"http://localhost:8081/license","list-type":"picture-card","auto-upload":!1,data:this.user},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:r.url,alt:""}}),s("span",{staticClass:"el-upload-list__item-actions"},[e.disabled?e._e():s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(r)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),s("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)])},f=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",[e._v("资质认证"),s("i",{staticClass:"el-icon-caret-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tip"},[s("i",{staticClass:"el-icon-magic-stick",staticStyle:{margin:"0 10px"}}),s("span",{staticStyle:{margin:"0 10px"}},[s("p",[e._v("    广告主认证信息为必填项，请上传真实的认证资料，如果审核通过后需要修改信息，请填写新的资质认证信息，提交审核，以最新审核的认证信息为准。 ")])])])}],h={name:"Personright",data(){return{user:this.$store.getters.getUser,form:{id:this.$store.getters.getUser.id,username:this.$store.getters.getUser.username},dialogImageUrl:"",dialogVisible:!1,disabled:!1,rules:{name:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],corporateName:[{required:!0,message:"请输入公司名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],IDnumber:[{required:!0,message:"请输入身份证号",trigger:"blur"}]}}},mounted(){},methods:{onSubmit(){this.$refs["form"].validate((e=>{if(!e)return this.$message.error("请填写完整信息"),!1;this.$axios.post("/UserInfoDetail",this.form).then((e=>{200==e.data.code?this.$message({message:"提交成功",type:"success"}):this.$message({message:e.data.msg,type:"error"})})),this.$refs["MyUpload"].submit(),this.$refs["MyUpload"].clearFiles()}))},handleRemove(e){this.$refs["MyUpload"].clearFiles()},reset(){this.$refs["form"].resetFields(),this.handleRemove()}}},b=h,g=(0,m.Z)(b,p,f,!1,null,"38b99264",null),v=g.exports,_={name:"Personalcenter",data(){return{}},mounted(){},methods:{},components:{PersonLeft:d,PersonRight:v}},$=_,x=(0,m.Z)($,r,a,!1,null,"ce2e3dd8",null),k=x.exports}}]);
//# sourceMappingURL=277.4a549db4.js.map